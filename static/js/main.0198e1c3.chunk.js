(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,n){e.exports={overlay:"Modal_overlay__27A_Y",modal:"Modal_modal__3jN_8"}},12:function(e,t,n){e.exports={item:"ImageGalleryItem_item__1kzY4",image:"ImageGalleryItem_image__23x3J"}},13:function(e,t,n){e.exports={container:"ErrorBox_container__BZgGe",error:"ErrorBox_error__1i8Tm"}},15:function(e,t,n){e.exports={app:"App_app__SLCIm"}},18:function(e,t,n){e.exports={container:"Loader_container__2omWO"}},19:function(e,t,n){e.exports={button:"Button_button__19JIv"}},20:function(e,t,n){e.exports={imageGallery:"ImageGallery_imageGallery__5IySE"}},21:function(e,t,n){e.exports={text:"ContentContainer_text__2Ay6J"}},27:function(e,t,n){},5:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__2VC7X",searchForm:"Searchbar_searchForm__H68Uw",formButton:"Searchbar_formButton__146Ir",formButtonLabel:"Searchbar_formButtonLabel__3sfdH",formInput:"Searchbar_formInput__1Qv2O"}},52:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),o=n(4),i=n.n(o),s=(n(27),n(3)),u=n(8),l=(n(28),n(5)),j=n.n(l),b=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],i=c[1];return Object(r.jsx)("header",{className:j.a.searchbar,children:Object(r.jsxs)("form",{className:j.a.searchForm,onSubmit:function(e){if(e.preventDefault(),""===o.trim())return u.b.error("Type your query!");t(o),i("")},children:[Object(r.jsx)("button",{type:"submit",className:j.a.formButton,children:Object(r.jsx)("span",{className:j.a.formButtonLabel,children:"Search"})}),Object(r.jsx)("input",{className:j.a.formInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){var t=e.target.value;return i(t.toLowerCase())}})]})})},m=n(15),d=n.n(m),f=n(10),p=n.n(f),h=document.querySelector("#modal-root"),O=function(e){var t=e.onClose,n=e.children;return Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]),Object(o.createPortal)(Object(r.jsx)("div",{className:p.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(r.jsx)("div",{className:p.a.modal,children:n})}),h)},g=n(11),x=n.n(g),_=n(14),v=n(16),y=n(17),C=n.n(y),k=(n(51),n(18)),S=n.n(k),w=function(){return Object(r.jsx)("div",{className:S.a.container,children:Object(r.jsx)(C.a,{type:"ThreeDots",color:" #7efa2b",height:80,width:80})})},I=n(19),N=n.n(I),B=function(e){var t=e.onClick;return Object(r.jsx)("button",{type:"button",onClick:t,className:N.a.button,children:"Load more!"})},L=n(12),E=n.n(L),T=function(e){var t=e.img,n=e.description,a=e.largeImg,c=e.onClick;return Object(r.jsx)("li",{className:E.a.item,children:Object(r.jsx)("img",{src:t,alt:n,className:E.a.image,"data-url":a,onClick:c})})},F=n(20),G=n.n(F),q=function(e){var t=e.images,n=e.onImageClick;return Object(r.jsx)("ul",{className:G.a.imageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,c=e.largeImageURL,o=e.tags;return Object(r.jsx)(T,{img:a,description:o,largeImg:c,onClick:n},t)}))})},J=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("19048518-7cffd49b48c4ae5ad0525e878","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))},A=n(13),D=n.n(A),H=function(e){var t=e.errorText;return Object(r.jsxs)("div",{className:D.a.container,children:[Object(r.jsx)("img",{src:"https://petskb.com/wp-content/uploads/2019/08/catcrying.png",alt:"Cat",width:"300"}),Object(r.jsx)("p",{className:D.a.error,children:t})]})},M=n(21),P=n.n(M),U=function(e){var t=e.query,n=e.page,c=e.onBtnClick,o=e.onImageClick,i=Object(a.useState)([]),u=Object(s.a)(i,2),l=u[0],j=u[1],b=Object(a.useState)(null),m=Object(s.a)(b,2),d=m[0],f=m[1],p=Object(a.useState)(!1),h=Object(s.a)(p,2),O=h[0],g=h[1],y=Object(a.useState)("idle"),C=Object(s.a)(y,2),k=C[0],S=C[1];return Object(a.useEffect)((function(){if(""!==t){var e=function(){var e=Object(v.a)(x.a.mark((function e(){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t,n);case 3:if(r=e.sent,0!==(a=r.hits).length){e.next=7;break}throw Error("Can't find pictures by '".concat(t,"' keyword!"));case 7:j((function(e){return[].concat(Object(_.a)(e),Object(_.a)(a))})),g(!1),S("resolved"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),f(e.t0),S("rejected");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();n>1?(g(!0),e(),setTimeout((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)):(j([]),S("pending"),e())}}),[t,n]),"idle"===k?Object(r.jsx)("div",{className:P.a.text,children:"Type your keyword!"}):"pending"===k?Object(r.jsx)(w,{}):"resolved"===k?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q,{images:l,onImageClick:o}),O?Object(r.jsx)(w,{}):Object(r.jsx)(B,{onClick:c})]}):"rejected"===k?Object(r.jsx)(H,{errorText:d.message}):void 0},z=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(1),i=Object(s.a)(o,2),l=i[0],j=i[1],m=Object(a.useState)(!1),f=Object(s.a)(m,2),p=f[0],h=f[1],g=Object(a.useState)(""),x=Object(s.a)(g,2),_=x[0],v=x[1],y=Object(a.useState)(""),C=Object(s.a)(y,2),k=C[0],S=C[1];return Object(r.jsxs)("div",{className:d.a.app,children:[Object(r.jsx)(b,{onSubmit:function(e){c(e),j(1)}}),Object(r.jsx)(U,{query:n,page:l,onBtnClick:function(){j((function(e){return e+1}))},onImageClick:function(e){var t=e.target,n=t.alt,r=t.dataset;h(!0),v(n),S(r.url)}}),Object(r.jsx)(u.a,{autoClose:3e3}),p&&Object(r.jsx)(O,{onClose:function(){h(!1),v(""),S("")},children:Object(r.jsx)("img",{src:k,alt:_})})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(z,{})}),document.getElementById("root")),R()}},[[52,1,2]]]);
//# sourceMappingURL=main.0198e1c3.chunk.js.map